# ุงุฎุชุจุงุฑ API ุงูุฌุฏูุฏุฉ ๐งช

## ุงุฎุชุจุงุฑ ุฎุตู ุชูููุฉ ุทูุจ (ููููุธููู ูุงููุฏูุฑ)

### ุงูุทุฑููุฉ
```
POST https://admin.taif.digital/api/capital/withdraw-order
```

### Headers
```json
{
  "Content-Type": "application/json",
  "Authorization": "Bearer YOUR_TOKEN_HERE"
}
```

### Body
```json
{
  "amount": 50000,
  "order_id": 1,
  "product_name": "ูุชูููุณ ุจุฑููููู",
  "customer_name": "ุฃุญูุฏ ูุญูุฏ",
  "customer_phone": "07701234567",
  "sell_price": 60000
}
```

### Response ุงููุชููุน (ูุฌุงุญ)
```json
{
  "success": true,
  "message": "ุชู ุฎุตู ุงูุชูููุฉ ูู ุฑุฃุณ ุงููุงู"
}
```

### Response ุงููุชููุน (ูุดู - ุฑุฃุณ ุงููุงู ุบูุฑ ูุงูู)
```json
{
  "success": false,
  "message": "ุฑุฃุณ ุงููุงู ุบูุฑ ูุงูู ููุณุญุจ"
}
```

---

## ุงุฎุชุจุงุฑ ุฌูุจ ุชูุงุตูู ูุนุงููุฉ

### ุงูุทุฑููุฉ
```
GET https://admin.taif.digital/api/capital/transaction/123
```

### Headers
```json
{
  "Content-Type": "application/json",
  "Authorization": "Bearer YOUR_TOKEN_HERE"
}
```

### Response ุงููุชููุน
```json
{
  "success": true,
  "transaction": {
    "id": 123,
    "type": "withdraw",
    "amount": 50000,
    "description": "ุชูููุฉ ุทูุจ: ูุชูููุณ ุจุฑููููู - ุฃุญูุฏ ูุญูุฏ",
    "created_by": "employee1",
    "created_at": "2025-11-19T10:30:45.000",
    "order_id": 1,
    "product_name": "ูุชูููุณ ุจุฑููููู",
    "customer_name": "ุฃุญูุฏ ูุญูุฏ",
    "customer_phone": "07701234567",
    "sell_price": 60000
  }
}
```

---

## ุงุฎุชุจุงุฑ ุญุฐู ูุนุงููุฉ ูุงุญุฏุฉ (ูููุฏูุฑ ููุท)

### ุงูุทุฑููุฉ
```
DELETE https://admin.taif.digital/api/capital/transactions/single/123
```

### Headers
```json
{
  "Content-Type": "application/json",
  "Authorization": "Bearer ADMIN_TOKEN_HERE"
}
```

### Response ุงููุชููุน (ูุฌุงุญ)
```json
{
  "success": true,
  "message": "ุชู ุญุฐู ุงููุนุงููุฉ ุจูุฌุงุญ"
}
```

### Response ุงููุชููุน (ูุดู - ููุณ ูุฏูุฑ)
```json
{
  "success": false,
  "message": "ููุณ ูุฏูู ุตูุงุญูุฉ"
}
```

---

## ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ ๐

### ุงูุณููุงุฑูู 1: ููุธู ูุณุฌู ุทูุจ
1. **ุงููุณุชุฎุฏู**: ููุธู (employee)
2. **ุงูุฅุฌุฑุงุก**: ุชุณุฌูู ุทูุจ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 
   - โ ูุชู ุฅูุดุงุก ุงูุทูุจ ุจูุฌุงุญ
   - โ ูุชู ุฎุตู ุงูุชูููุฉ ูู ุฑุฃุณ ุงููุงู ุชููุงุฆูุงู
   - โ ูุชู ุญูุธ ุฌููุน ุชูุงุตูู ุงูุทูุจ ูู ูุนุงููุฉ ุฑุฃุณ ุงููุงู

### ุงูุณููุงุฑูู 2: ูุฏูุฑ ูุณุฌู ุทูุจ
1. **ุงููุณุชุฎุฏู**: ูุฏูุฑ (admin)
2. **ุงูุฅุฌุฑุงุก**: ุชุณุฌูู ุทูุจ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 
   - โ ูุชู ุฅูุดุงุก ุงูุทูุจ ุจูุฌุงุญ
   - โ ูุชู ุฎุตู ุงูุชูููุฉ ูู ุฑุฃุณ ุงููุงู ุชููุงุฆูุงู
   - โ ูุชู ุญูุธ ุฌููุน ุชูุงุตูู ุงูุทูุจ ูู ูุนุงููุฉ ุฑุฃุณ ุงููุงู

### ุงูุณููุงุฑูู 3: ูุฏูุฑ ูุนุฑุถ ุชูุงุตูู ุนูููุฉ
1. **ุงููุณุชุฎุฏู**: ูุฏูุฑ (admin)
2. **ุงูุฅุฌุฑุงุก**: ูุชุญ ุตูุญุฉ ุฑุฃุณ ุงููุงู ูุงูุถุบุท ุนูู ุนูููุฉ ุณุญุจ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 
   - โ ุชุธูุฑ ูุงูุฐุฉ ููุจุซูุฉ ุฌูููุฉ
   - โ ุชุนุฑุถ ุฌููุน ุงูุชูุงุตูู ุงูุนุงูุฉ (ุงููุตูุ ุงููุณุชุฎุฏูุ ุงูุชูููุช)
   - โ ุชุนุฑุถ ุชูุงุตูู ุงูุทูุจ (ุฑูู ุงูุทูุจุ ุงูููุชุฌุ ุงูุฒุจููุ ุงูุณุนุฑุ ุงูุฑุจุญ)
   - โ ููุฌุฏ ุฒุฑ ูุญุฐู ุงูุนูููุฉ

### ุงูุณููุงุฑูู 4: ูุฏูุฑ ูุญุฐู ูุนุงููุฉ ูุงุญุฏุฉ
1. **ุงููุณุชุฎุฏู**: ูุฏูุฑ (admin)
2. **ุงูุฅุฌุฑุงุก**: ุงูุถุบุท ุนูู ุฒุฑ ุงูุญุฐู ุจุฌุงูุจ ุนูููุฉ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 
   - โ ุชุธูุฑ ูุงูุฐุฉ ุชุฃููุฏ
   - โ ุนูุฏ ุงูุชุฃููุฏุ ูุชู ุญุฐู ุงููุนุงููุฉ
   - โ ูุชู ุชุญุฏูุซ ุฑุตูุฏ ุฑุฃุณ ุงููุงู
   - โ ุชุฎุชูู ุงููุนุงููุฉ ูู ุงููุงุฆูุฉ

### ุงูุณููุงุฑูู 5: ููุธู ูุญุงูู ุญุฐู ูุนุงููุฉ
1. **ุงููุณุชุฎุฏู**: ููุธู (employee)
2. **ุงูุฅุฌุฑุงุก**: ูุญุงููุฉ ุงูุถุบุท ุนูู ุฒุฑ ุงูุญุฐู
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 
   - โ ูุง ูุธูุฑ ุฒุฑ ุงูุญุฐู (ุฃู ูุธูุฑ ูุนุทู)
   - โ ุฅุฐุง ุญุงูู ุนุจุฑ API ูุจุงุดุฑุฉุ ูุญุตู ุนูู ุฑุณุงูุฉ "ููุณ ูุฏูู ุตูุงุญูุฉ"

---

## ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ๐พ

### ุงูุชุญูู ูู ูุฌูุฏ ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ
ูู ุจุชุดุบูู ูุฐุง ุงูุงุณุชุนูุงู ูู SQLite:
```sql
PRAGMA table_info(capital_transactions);
```

ูุฌุจ ุฃู ุชุฑู ุงูุฃุนูุฏุฉ ุงูุชุงููุฉ:
- id
- type
- amount
- description
- created_by
- created_at
- order_id โ ุฌุฏูุฏ
- product_name โ ุฌุฏูุฏ
- customer_name โ ุฌุฏูุฏ
- customer_phone โ ุฌุฏูุฏ
- sell_price โ ุฌุฏูุฏ

### ูุซุงู ุนูู ุณุฌู ูุนุงููุฉ ูุงููุฉ
```sql
SELECT * FROM capital_transactions WHERE order_id IS NOT NULL LIMIT 1;
```

ูุฌุจ ุฃู ุชุญุตู ุนูู ุดูุก ูุซู:
```
id: 45
type: withdraw
amount: 50000
description: ุชูููุฉ ุทูุจ: ูุชูููุณ ุจุฑููููู - ุฃุญูุฏ ูุญูุฏ
created_by: employee1
created_at: 2025-11-19T10:30:45.000
order_id: 123
product_name: ูุชูููุณ ุจุฑููููู
customer_name: ุฃุญูุฏ ูุญูุฏ
customer_phone: 07701234567
sell_price: 60000
```

---

## ูุตุงุฆุญ ูุญู ุงููุดุงูู ๐ง

### ุงููุดููุฉ: ูุง ูุชู ุฎุตู ุงูุชูููุฉ ุนูุฏ ุชุณุฌูู ุทูุจ
**ุงูุญู**:
1. ุชุฃูุฏ ูู ุฃู ุงูุณูุฑูุฑ ูุนูู
2. ุชุญูู ูู ุงูู token ูู ุงูุทูุจ
3. ุชุฃูุฏ ูู ุฃู ุฑุฃุณ ุงููุงู ูุงูู
4. ุฑุงุฌุน logs ุงูุณูุฑูุฑ

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุชูุงุตูู ุงูุทูุจ ูู ูุงูุฐุฉ ุงูุชูุงุตูู
**ุงูุญู**:
1. ุชุฃูุฏ ูู ุฃู ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุญูู ูู ุฃู ุงููุนุงููุฉ ุชู ุฅูุดุงุคูุง ุจุนุฏ ุงูุชุญุฏูุซ
3. ุงููุนุงููุงุช ุงููุฏููุฉ ูู ุชุญุชูู ุนูู ุชูุงุตูู ุงูุทูุจ (ุทุจูุนู)

### ุงููุดููุฉ: ุฒุฑ ุงูุญุฐู ูุง ูุนูู
**ุงูุญู**:
1. ุชุฃูุฏ ูู ุฃูู ูุณุฌู ุฏุฎูู ููุฏูุฑ
2. ุชุญูู ูู ุงูู token ูุตูุงุญูุงุชู
3. ุฑุงุฌุน console ููุฃุฎุทุงุก

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ โญ๏ธ

ุจุนุฏ ุงูุงุฎุชุจุงุฑ ุงููุงุฌุญุ ููููู:
1. โ ูุดุฑ ุงูุชุญุฏูุซุงุช ุนูู ุงูุฎุงุฏู ุงูุฑุฆูุณู
2. โ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ
3. โ ุฅุนุงุฏุฉ ุจูุงุก ุชุทุจูู Flutter
4. โ ุชูุฒูุน ุงูุชุญุฏูุซ ุนูู ุงููุณุชุฎุฏููู
